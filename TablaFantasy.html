<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale: 1.0">
  <title>Fantasy EFMO</title>
  <style>
    body {
      background-color: rgb(245, 255, 255);
      font-family: Arial, sans-serif; }
    .container { max-width: 1200px;}
    table {
      width: 100%; border-collapse: collapse; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }
    .total { background-color: #f0f0f0; font-weight: bold; }
    .media { background-color: #e0e0e0; font-weight: bold; }
  </style>
</head>
<body>

<div class="container">
  <h1>Puntos y valoración de los partidos temp. 24/25</h1>
  <table>
    <thead>
    <tr>
      <th>Jornada</th>
      <th colspan="2">Gabri</th>
      <th colspan="2">Álvaro</th>
      <th colspan="2">Rafa</th>
      <th colspan="2">Álvaro G.S.</th>
      <th colspan="2">Erik</th>
      <th colspan="2">José An</th>
      <th colspan="2">Carlos A</th>
      <th colspan="2">Carlacas</th>
      <th colspan="2">Dani</th>
      <th colspan="2">Alvarito</th>
      <th colspan="2">Sagi</th>
      <th colspan="2">Gárate</th>
      <th colspan="2">Martín</th>
      <th colspan="2">Madero</th>
      <th colspan="2">Fer</th>
      <th colspan="2">Adri</th>
      <th colspan="2">Mario</th>
      <th colspan="2">Jaime</th>
      <th colspan="2">Elo</th>
      <th colspan="2">David</th>
    </tr>
    <tr>
      <th></th>
      <th>Puntos</th>
      <th>···································</th>
      <th>Puntos</th>
      <th>···································</th>
      <th>Puntos</th>
      <th>···································</th>
      <th>Puntos</th>
      <th>···································</th>
      <th>Puntos</th>
      <th>···································</th>
      <th>Puntos</th>
      <th>···································</th>
      <th>Puntos</th>
      <th>···································</th>
      <th>Puntos</th>
      <th>···································</th>
      <th>Puntos</th>
      <th>···································</th>
      <th>Puntos</th>
      <th>···································</th>
      <th>Puntos</th>
      <th>···································</th>
      <th>Puntos</th>
      <th>···································</th>
      <th>Puntos</th>
      <th>···································</th>
      <th>Puntos</th>
      <th>···································</th>
      <th>Puntos</th>
      <th>···································</th>
      <th>Puntos</th>
      <th>···································</th>
      <th>Puntos</th>
      <th>···································</th>
      <th>Puntos</th>
      <th>···································</th>
      <th>Puntos</th>
      <th>···································</th>
      <th>Puntos</th>
      <th>···································</th>
    </tr>
    </thead>
    <tbody id="tablaJornadas"></tbody>
    <tfoot>
    <tr class="total">
      <td><strong>Total</strong></td>
     <td></td><td></td>
    </tr>
    <tr class="media">
      <td><strong>Media</strong></td>
      <td></td><td></td>
    </tr>
    </tfoot>
  </table>
</div>

<script>
  // Datos predefinidos para 30 jornadas y 20 jugadores con comentarios
  const jugadores = [
    { nombre: "Jugador 1"/*Gabri*/, puntos: [8, 3, 10, null, 6, 0, 1, 6, null, null, null], comentarios: ["↩️ (7,7)", "(6,6)", "🟨↪️ (8,1)", "Descanso", "↪️ (7,2)", "↪️ (6,1)", "↪️ (6,2)", "↪️ (7,3)", "Lesionado", "Lesionado", "-"] },
    { nombre: "Jugador 2"/*Álvaro*/, puntos: [-2, null, 2, null, 3, 2, 3, null, 6, null, null], comentarios: ["↪️ (5,6)", "-", "↩️ (6,5)", "Descanso", "🟨↩️ (6,6)", "↩️ (6,5)", "↩️ (6,6)", "- ↩️", "(7,3)", "-", "-"] },
    { nombre: "Jugador 3"/*Rafa*/, puntos: [14, 5, 10, null, 10, 7, 10, 15, 7, null, null], comentarios: ["🟨🟢 (7,8+🟢)", "(7,1)", "(8,0)", "Descanso", "(8,2)", "(7,4)", "(8,0)", "🟨🟢 (8,5+🟢)", "(7,4)", "-", "-"] },
    { nombre: "Jugador 4"/*Álvaro G.S:*/, puntos: [null, 4, 9, null, 6, 3, 12, 6, 1, -2, null], comentarios: ["Lesionado", "↩️ (6,9)", "(7,9)", "Descanso", "↪️ (7,3)", "↪️ (6,7)", "🟢 (7,5+🟢)", "↪️ (7,3)", "(6,2)", "↪️ (5,5)", "-"] },
    { nombre: "Jugador 5"/*Erik*/, puntos: [4, 5, null, null, 3, 5, null, 3, 3, null, null], comentarios: ["↩️ (6,9)", "↪️ (7,1)", "No convocado", "Descanso", "↩️ (6,7)", "(7,0)", "No convocado", "↩️ (6,7)", "↩️ (6,7)", "No convocado", "-"] },
    { nombre: "Jugador 6"/*José An*/, puntos: [2, 6, 8, null, 6, 7, 9, 9, 10, null, null], comentarios: ["↪️ (6,4)", "↩️ (7,3)", "➡️ (7,4+➡️)", "Descanso", "🟨↪️ (7,2)", "↪️ (7,4)", "↪️ (7,8)", "(7,9)", "(8,1)", "-", "-"] },
    { nombre: "Jugador 7"/*Carlos A*/, puntos: [0, null, null, null, 3, 3, 3, 2, null, null, null], comentarios: ["↩️ (6,1)", "No convocado", "No convocado", "Descanso", "↩️ (6,6)", "↩️ (6,6)", "↩️ (6,6)", "↩️ (6,5)", "No convocado", "-", "-"] },
    { nombre: "Jugador 8"/*Carlacas*/, puntos: [4, 5, null, null, null, null, 9, 5, 5, null, null], comentarios: ["🟨 (6,9)", "↪️ (7,1)", "Lesionado", "Descanso", "Lesionado", "Lesionado", "🟨↪️ (7,8)", "↪️ (7,0)", "↪️ (7,1)", "-", "-"] },
    { nombre: "Jugador 9"/*Dani*/, puntos: [2, -8, 10, null, 8, 1, 8, 16, 8, null, null], comentarios: ["(6,5)", "🟥 (5,5+🟥)", "(8,1)", "Descanso", "(7,7)", "🟨 (6,3)", "(7,7)", "🟢➡️ (8,1+🟢+➡️)", "🟨 (7,7)", "-", "-"] },
    { nombre: "Jugador 10"/*Alvarito*/, puntos: [11, 6, 9, null, 2, -1, null, null, 4, null, null], comentarios: ["🟢 (7,7+🟢)", "↪️ (7,2)", "➡️ (7,6+➡️)", "Descanso", "↪️ (6,4)", "🟨↪️ (5,8)", "Lesionado", "Lesionado", "↩️ (6,9)", "-", "-"] },
    { nombre: "Jugador 11"/*Sagi*/, puntos: [0, 3, 7, null, 1, 0, 5, 5, 1, 3, null], comentarios: ["🟨↪️ (6,1)", "↪️ (6,7)", "(7,4)", "Descanso", "↪️ (6,3)", "(6,1)", "↪️ (7,1)", "↪️ (7,0)", "↪️ (6,3)", "↪️ (6,6)", "-"] },
    { nombre: "Jugador 12"/*Gárate*/, puntos: [null, 4, null, null, 2, null, -1, 3, 4, null, null], comentarios: ["No convocado", "↩️ (6,8)", "- ↩️", "Descanso", "↩️ (6,4)", "No convocado", "🟨↩️ (5,9)", "↩️ (6,7)", "↩️ (6,9)", "-", "-"] },
    { nombre: "Jugador 13"/*Martín*/, puntos: [3, 5, 10, null, 7, null, 13, 14, 6, null, null], comentarios: ["🟨↩️ (6,7)", "↩️ (7,0)", "↪️➡️ (7,9+➡️)", "Descanso", "(7,4)", "No convocado", "🟨↪️🟢 (8,0+🟢)", "🟢➡️ (8,4+🟢+➡️)", "(7,2)", "-", "-"] },
    { nombre: "Jugador 14"/*Madero*/, puntos: [2, 4, 6, null, 2, 2, 18, 5, 1, 0, null], comentarios: ["↪️ (6,4)", "(6,9)", "🟨 (7,2)", "Descanso", "↪️ (6,4)", "↪️ (6,4)", "🟨↪️🟢🟢➡️<br>(7,9+🟢🟢+➡️)", "↪️ (7,1)", "↪️ (6,2)", "↪️ (6,0)", "-"] },
    { nombre: "Jugador 15"/*Fer*/, puntos: [5, 4, 27, null, 5, 10, 10, 14, 7, null, null], comentarios: ["(7,1)", "(6,8)", "↪️🟢⬆️🟢🟢🟢🟢 (10+🟢🟢🟢🟢+🟢⬆️)", "Descanso", "(7,1)", "🟢 (7,4+🟢)", "➡️ (7,8+➡️)", "🟢↪️➡️ (8,4+🟢+➡️)", "↪️➡️ (7,3+➡️)", "Lesionado", "-"] },
    { nombre: "Jugador 16"/*Adri*/, puntos: [null, 4, 6, null, 4, 4, 9, 9, null, null, null], comentarios: ["No convocado", "↩️ (6,8)", "↪️ (7,3)", "Descanso", "(6,9)", "(6,8)", "🟨➡️ (7,7+➡️)", "🟨↪️🟢 (7,3+🟢)", "No convocado", "-", "-"] },
    { nombre: "Jugador 17"/*Mario*/, puntos: [2, 5, null, null, 1, 3, 3, 4, 5, null, null], comentarios: ["↪️ (6,5)", "↪️ (7,0)", "No convocado", "Descanso", "↩️ (6,3)", "↩️ (6,6)", "↩️ (6,6)", "↩️ (6,8)", "↩️ (7,0)", "-", "-"] },
    { nombre: "Jugador 18"/*Jaime*/, puntos: [null, null, null, null, null, null, null, null, null, null, null], comentarios: ["-", "-", "-", "Descanso", "No convocado", "- ↩️", "No convocado", "No convocado", "-", "No convocado", "-"] },
    { nombre: "Jugador 19"/*Elo*/, puntos: [2, -2, 9, null, 1, null, 1, 4, 8, 4, null], comentarios: ["(6,4)", "↪️ (5,6)", "↩️🟢 (7,3+🟢)", "Descanso", "🟨↩️ (6,3)", "No convocado", "↩️ (6,3)", "↩️ (6,8)", "🟨🟢 (7,1+🟢)", "↪️ (6,8)", "-"] },
    { nombre: "Jugador 20"/*David*/, puntos: [1, 2, null, null, null, 0, 2, null, null, null, null], comentarios: ["↩️ (6,3)", "↩️ (6,4)", "- ↩️", "Descanso", "Lesionado", "↩️ (6,0)", "↩️ (6,4)", "- ↩️", "-", "-", "-"] }
  ];

  // Función para mostrar los datos en la tabla
  function mostrarJugadores() {
    const tabla = document.getElementById("tablaJornadas");
    jugadores[0].puntos.forEach((_, jornada) => {
      const fila = `<tr>
                <td>${jornada + 1}</td>
                ${jugadores.map(jugador => `
                    <td>${jugador.puntos[jornada] !== null ? jugador.puntos[jornada] : ''}</td>
                    <td>${jugador.comentarios[jornada]}</td>
                `).join('')}
            </tr>`;
      tabla.innerHTML += fila;
    });

    // Calcular totales y medias
    const totales = jugadores.map(jugador => calcularTotal(jugador.puntos));
    const medias = jugadores.map(jugador => calcularMedia(jugador.puntos));

    // Mostrar totales
    const totalRow = document.querySelector('.total');
    totalRow.innerHTML = `<td><strong>Total</strong></td>` +
      totales.map(total => `<td>${total}</td><td></td>`).join('');

    // Mostrar medias
    const mediaRow = document.querySelector('.media');
    mediaRow.innerHTML = `<td><strong>Media</strong></td>` +
      medias.map(media => `<td>${media}</td><td></td>`).join('');
  }

  // Función para calcular la suma total de los puntos
  function calcularTotal(puntos) {
    return puntos.reduce((acc, punto) => acc + (punto !== null ? punto : 0), 0);
  }

  // Función para calcular la media de los puntos
  function calcularMedia(puntos) {
    const total = calcularTotal(puntos);
    const cantidadValida = puntos.filter(punto => punto !== null).length;
    return cantidadValida > 0 ? (total / cantidadValida).toFixed(2) : 'N/A';
  }

  // Mostrar jugadores al cargar la página
  window.onload = mostrarJugadores;
</script>

</body>
</html>
